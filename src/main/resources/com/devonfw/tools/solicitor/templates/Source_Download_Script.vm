## SPDX-License-Identifier: Apache-2.0
#
# This script was generated by 'Solicitor', v$MODELROOT.getDataRow(0).solicitorVersion ($MODELROOT.getDataRow(0).solicitorGitHash) on $MODELROOT.getDataRow(0).executionTime
# see https://github.com/devonfw-forge/solicitor
#
#foreach ($artifact in $ARTIFACTS)
# Application: $artifact.applicationName -- Group: $artifact.groupId -- Artifact: $artifact.artifactId -- Version: $artifact.version -- License(s): $artifact.effectiveNormalizedLicense -- includeSource: $artifact.includeSource
mkdir $artifact.applicationName &> /dev/null
cd $artifact.applicationName
#[[SD=$(pwd)]]#
#if ( $artifact.artifactId.toString().contains("/") )
cutArtifact='${artifact.artifactId}'
#if ( $artifact.repoType == "npm" )
curl -# https://registry.npmjs.org/$artifact.artifactId/-/#[[${cutArtifact#*/}]]#-${artifact.version}.tgz -o #[[${cutArtifact#*/}]]#-${artifact.version}.tgz
tar -xvzf #[[${cutArtifact#*/}]]#-${artifact.version}.tgz
if [ $? -ne 0 ]
then
  echo "Need to retrieve-manually" > #[[${cutArtifact%/*}+${cutArtifact#*/}]]#-${artifact.version}.tgz--need-to-retrieve-manually-npm
fi
rm -r package/
#elseif ( $artifact.repoType == "yarn" )
curl -# https://registry.yarnpkg.com/$artifact.artifactId/-/#[[${cutArtifact#*/}]]#-${artifact.version}.tgz -o #[[${cutArtifact#*/}]]#-${artifact.version}.tgz
tar -xvzf #[[${cutArtifact#*/}]]#-${artifact.version}.tgz
if [ $? -ne 0 ]
then
  echo "Need to retrieve-manually" > #[[${cutArtifact%/*}+${cutArtifact#*/}]]#-${artifact.version}.tgz--need-to-retrieve-manually-yarn
fi
rm -r package/	
#else
echo "Need to retrieve-manually (unknown repoType" > $artifact.groupId--#[[${cutArtifact%/*}+${cutArtifact#*/}]]#-${artifact.version}.tgz--need-to-retrieve-manually
#end	
#else
#if ( $artifact.repoType == "maven" )
curl -# https://repo1.maven.org/maven2/$artifact.groupIdT/$artifact.artifactId/$artifact.version/$artifact.artifactId-$artifact.version-sources.jar -o $artifact.groupId--$artifact.artifactId-$artifact.version-sources.jar
unzip -q -t $artifact.groupId--$artifact.artifactId-$artifact.version-sources.jar
if [ $? -ne 0 ]
then
  echo "Need to retrieve-manually" > $artifact.groupId--$artifact.artifactId-$artifact.version-sources.jar--need-to-retrieve-manually-maven
fi
#elseif ( $artifact.repoType == "npm" )
curl -# https://registry.npmjs.org/$artifact.artifactId/-/$artifact.artifactId-${artifact.version}.tgz -o $artifact.artifactId-${artifact.version}.tgz
tar -xvzf $artifact.artifactId-${artifact.version}.tgz
if [ $? -ne 0 ]
then
  echo "Need to retrieve-manually" > $artifact.artifactId-${artifact.version}.tgz--need-to-retrieve-manually-npm
fi
rm -r package/
#elseif ( $artifact.repoType == "pip" )
art='${artifact.artifactId}'
#[[firstChar=${art:0:1}]]#
curl -# -L https://pypi.io/packages/source/#[[$firstChar]]#/$artifact.artifactId/$artifact.artifactId-${artifact.version}.tar.gz -o $artifact.artifactId-${artifact.version}.tar.gz
tar -xvzf $artifact.artifactId-${artifact.version}.tar.gz
if [ $? -ne 0 ]
then
  echo "Need to retrieve-manually" > $artifact.artifactId-${artifact.version}.tar.gz--need-to-retrieve-manually-pip
fi
rm -r $artifact.artifactId-${artifact.version}/
#elseif ( $artifact.repoType == "yarn" )
curl -# https://registry.yarnpkg.com/$artifact.artifactId/-/$artifact.artifactId-${artifact.version}.tgz -o $artifact.artifactId-${artifact.version}.tgz
tar -xvzf $artifact.artifactId-${artifact.version}.tgz
if [ $? -ne 0 ]
then
  echo "Need to retrieve-manually" > $artifact.artifactId-${artifact.version}.tgz--need-to-retrieve-manually-npm
fi
rm -r package/
#else
echo "Need to retrieve-manually (unknown repoType)" > $artifact.groupId--$artifact.artifactId-${artifact.version}--need-to-retrieve-manually
#end
#end
cd ..	
#end